!function(t){"use strict";t.fn.geronimo=function(e){var e=t.extend({speed:"medium"},e),n=this,i={slow:10,medium:16.667,fast:25},o=i[e.speed],r={slow:"12.5%",medium:"25%",fast:"50%"},s=r[e.speed],a=function(t){var e=f(t),n=e.windowHeight+e.parentHeight,i=e.scrollPos+e.windowHeight-e.parentOffset,r=i/n*100,s=r/100*(2*o)-o;return s},f=function(t){return{parentHeight:t[0].offsetHeight,parentOffset:t.offset().top,parentTop:t[0].getBoundingClientRect().top,scrollPos:window.pageYOffset,windowHeight:window.innerHeight}},p=function(t){var e=f(t);return e.windowHeight>=e.parentTop&&e.parentTop+e.parentHeight>=0},w=function(t,e){p(e)&&t.css("transform","translateY("+a(e)+"%)")},u=function(){n.each(function(){var e=t(this);w(e,e.parent())})};n.each(function(){var e=t(this);e.parent().css({overflow:"hidden",position:"relative"}),e.css({bottom:"-"+s,height:"auto",left:"0",position:"absolute",right:"0",top:"-"+s,transition:"100ms"})}),u(),t(window).on("scroll resize",function(){window.requestAnimationFrame(u)})}}(window.jQuery||window.Zepto);
